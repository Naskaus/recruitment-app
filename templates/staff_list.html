{% extends "base.html" %}

{% block content %}
<div class="page-header">
    <h2>Staff Inventory</h2>
    <div class="filter-controls">
        <label for="statusFilter">Filter by status:</label>
        <select id="statusFilter">
            <option value="all">All Statuses</option>
            {% for status in statuses %}
                <option value="{{ status | lower | replace(' ', '-') }}">{{ status }}</option>
            {% endfor %}
        </select>
    </div>
</div>

<div class="staff-grid">
    {% for profile in profiles %}
        <div class="staff-card" data-id="{{ profile.id }}" data-status="{{ profile.status | lower | replace(' ', '-') }}">
            <div class="card-delete-button" data-id="{{ profile.id }}" data-name="{{ profile.nickname }}">
                <svg viewBox="0 0 24 24"><path d="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z" /></svg>
            </div>
            <div class="staff-card-header">
                <img src="{{ profile.photo_url }}" alt="Photo of {{ profile.nickname }}">
                <div class="staff-card-name">
                    {% if profile.nickname %}
                        <h3>{{ profile.nickname }}</h3>
                        <span>{{ profile.first_name }} {{ profile.last_name }}</span>
                    {% else %}
                        <h3>{{ profile.first_name }} {{ profile.last_name }}</h3>
                    {% endif %}
                </div>
            </div>
            <div class="staff-card-body">
                <div class="staff-details">
                    <p><strong>Age:</strong> {{ profile.age or 'N/A' }}</p>
                    <p><strong>Height:</strong> {{ profile.height or 'N/A' }} cm</p>
                    <p><strong>Weight:</strong> {{ profile.weight or 'N/A' }} kg</p>
                </div>
                <div class="staff-card-status">
                    <span class="status-badge status-{{ profile.status | lower | replace(' ', '-') }}">{{ profile.status }}</span>
                </div>
            </div>
            <div class="staff-card-footer">
                <div class="social-links">
                    {% if profile.instagram %}
                        <a href="https://instagram.com/{{ profile.instagram }}" target="_blank" title="Instagram">
                            <svg class="social-icon" viewBox="0 0 24 24"><path d="M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z" /></svg>
                        </a>
                    {% endif %}
                    {% if profile.facebook %}
                        <a href="https://facebook.com/{{ profile.facebook }}" target="_blank" title="Facebook">
                            <svg class="social-icon" viewBox="0 0 24 24"><path d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.81C10.44 7.31 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z" /></svg>
                        </a>
                    {% endif %}
                    {% if profile.line_id %}
                        <a href="https://line.me/ti/p/~{{ profile.line_id }}" target="_blank" title="Line">
                           <svg class="social-icon" viewBox="0 0 24 24"><path d="M16.5,5.32C16.5,5.32 16.43,5.32 16.36,5.32H7.64C4,5.32 2.32,8.13 2.32,11.39C2.32,14.65 4.34,17.45 7.64,17.45H8.72V20.82C8.72,21.53 9.47,21.93 10.08,21.59C10.08,21.59 12.09,20.28 13.7,18.84C16.8,18.41 19.36,15.71 19.36,12.5C19.36,8.23 18.94,5.32 16.5,5.32M10.36,14.45H9.11V10.18H6.5V8.93H10.36V14.45M15.11,14.45H13.86V8.93H15.11V10.18H16.72V11.43H15.11V12.72C15.11,13.15 15.26,13.28 15.53,13.28C15.72,13.28 15.9,13.25 16.08,13.2V14.39C15.82,14.43 15.45,14.45 15.11,14.45Z" /></svg>
                        </a>
                    {% endif %}
                </div>
                <a href="{{ url_for('profile_detail', profile_id=profile.id) }}" class="button-details">View Details</a>
            </div>
        </div>
    {% else %}
        <div class="card">
            <div class="card-body" style="text-align: center;">
                <h3>No Staff Profiles Found</h3>
                <p>Get started by creating a new profile.</p>
                <a href="/profile/new" class="button-primary">Create Profile Now</a>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}